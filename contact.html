<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contact & Report ‚Äî Safeguard</title>
  <meta name="description" content="Contact the safeguarding team to report concerns." />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#0EA5A4">
  <link rel="icon" href="assets/images/favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body class="bg-slate-50 text-slate-900 antialiased">
  <header class="bg-white/70 backdrop-blur sticky top-0 z-40">
    <nav class="max-w-4xl mx-auto px-4 py-4 flex items-center justify-between relative" aria-label="Main navigation">
      <a href="index.html" class="text-2xl font-semibold brand-text">Safeguard</a>
      <button class="nav-toggle sm:hidden" id="navToggle" aria-expanded="false" aria-controls="primaryNav" aria-label="Open navigation">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <rect x="3" y="6" width="18" height="2" rx="1" fill="currentColor" />
          <rect x="3" y="11" width="18" height="2" rx="1" fill="currentColor" />
          <rect x="3" y="16" width="18" height="2" rx="1" fill="currentColor" />
        </svg>
      </button>
      <ul id="primaryNav" class="nav-menu hidden sm:flex gap-6 tracking-wide" role="menubar" aria-label="Primary">
        <li role="none"><a role="menuitem" href="index.html#overview" class="nav-link">Overview</a></li>
        <li role="none"><a role="menuitem" href="index.html#how-it-works" class="nav-link">How It Works</a></li>
        <li role="none"><a role="menuitem" href="index.html#signs" class="nav-link">Signs</a></li>
        <li role="none"><a role="menuitem" href="index.html#steps" class="nav-link">Steps</a></li>
        <li role="none"><a role="menuitem" href="index.html#regional" class="nav-link">Regional</a></li>
        <li role="none"><a role="menuitem" href="contact.html" class="nav-link brand-btn contact-link">Contact</a></li>
      </ul>
      
    </nav>
  </header>

  <main class="max-w-3xl mx-auto px-4 py-12 fade-in">
    <div class="flex items-center justify-between mb-8">
      <div>
        <h1 class="text-3xl font-extrabold" style="font-family: 'Poppins', 'Inter', system-ui;">Contact & Report</h1>
        <p class="mt-2 text-slate-700">Send a confidential report to our safeguarding team. We review all reports promptly.</p>
      </div>
      <div>
        <a href="index.html" class="back-home" aria-label="Back to Home">‚Üê Back to Home</a>
      </div>
    </div>

    <form id="reportForm" class="bg-white p-6 rounded-lg shadow-sm" novalidate>
      <div class="grid gap-4 md:grid-cols-2">
        <div>
          <label for="name" class="block text-sm font-medium text-slate-700">Your name <span class="text-red-500" aria-hidden="true">*</span></label>
            <div class="relative">
              <input id="name" name="name" type="text" required aria-describedby="name-help" placeholder="Jane Doe" class="mt-1 block w-full border rounded-lg px-3 py-2 focus:ring-indigo-300 focus:outline-none" />
              <span class="field-valid" aria-hidden="true"></span>
            </div>
          <p id="name-help" class="mt-1 text-xs text-slate-500">Enter your full name.</p>
        </div>
        <div>
          <label for="email" class="block text-sm font-medium text-slate-700">Email <span class="text-red-500" aria-hidden="true">*</span></label>
          <div class="relative">
            <input id="email" name="email" type="email" required aria-describedby="email-help" placeholder="jane@‚Ä¶" class="mt-1 block w-full border rounded-lg px-3 py-2 focus:ring-indigo-300 focus:outline-none" />
            <span class="field-valid" aria-hidden="true"></span>
            <ul id="emailSuggestions" class="hidden email-suggestions absolute left-0 right-0 top-full z-10 bg-white border rounded-lg shadow mt-1 text-sm">
              <li data-domain="gmail.com" class="px-3 py-2 hover:bg-slate-50 cursor-pointer">gmail.com</li>
              <li data-domain="yahoo.com" class="px-3 py-2 hover:bg-slate-50 cursor-pointer">yahoo.com</li>
                <li data-domain="outlook.com" class="px-3 py-2 hover:bg-slate-50 cursor-pointer">outlook.com</li>
              <li data-domain="hotmail.com" class="px-3 py-2 hover:bg-slate-50 cursor-pointer">hotmail.com</li>
              <li data-domain="icloud.com" class="px-3 py-2 hover:bg-slate-50 cursor-pointer">icloud.com</li>
            </ul>
          </div>
          <p id="email-help" class="mt-1 text-xs text-slate-500">We may contact you for follow-up.</p>
        </div>
        <div>
          <label for="phone" class="block text-sm font-medium text-slate-700">Phone (optional)</label>
          <div class="relative">
            <input id="phone" name="phone" type="tel" aria-describedby="phone-help" placeholder="Enter phone (+‚Ä¶ or local)" class="mt-1 block w-full border rounded-lg px-3 py-2 focus:ring-indigo-300 focus:outline-none" />
            <span class="field-valid" aria-hidden="true"></span>
          </div>
          <p id="phone-help" class="mt-1 text-xs text-slate-500">We format automatically; include +country code if known.</p>
        </div>
        <div>
          <label for="topic" class="block text-sm font-medium text-slate-700">Topic <span class="text-red-500" aria-hidden="true">*</span></label>
          <select id="topic" name="topic" required aria-describedby="topic-help" class="mt-1 block w-full border rounded-lg px-3 py-2 focus:ring-indigo-300 focus:outline-none">
            <option value="">Choose a topic‚Ä¶</option>
            <option>Immediate concern</option>
            <option>General enquiry</option>
            <option>Follow-up</option>
            <option>Other</option>
          </select>
          <p id="topic-help" class="mt-1 text-xs text-slate-500">Select the most relevant topic.</p>
        </div>
        <div id="otherReasonWrap" class="hidden md:col-span-2">
          <label for="otherReason" class="block text-sm font-medium text-slate-700">Reason <span class="text-red-500" aria-hidden="true">*</span></label>
          <input id="otherReason" name="otherReason" type="text" aria-describedby="other-help" placeholder="Briefly describe the topic" class="mt-1 block w-full border rounded-lg px-3 py-2 focus:ring-indigo-300 focus:outline-none" />
          <p id="other-help" class="mt-1 text-xs text-slate-500">Required when selecting Other.</p>
        </div>
        <div class="md:col-span-2">
          <label for="details" class="block text-sm font-medium text-slate-700">Details <span class="text-red-500" aria-hidden="true">*</span></label>
          <textarea id="details" name="details" rows="6" required aria-describedby="details-help" placeholder="Provide clear, factual details‚Ä¶" data-min-words="50" data-max-words="150" class="mt-1 block w-full border rounded-lg px-3 py-2 focus:ring-indigo-300 focus:outline-none"></textarea>
          <div id="detailsCounter" class="char-counter text-xs text-slate-500" aria-live="polite">0 words</div>
          <div class="counter-progress-wrap mt-2" aria-hidden="false">
            <div class="counter-progress bg-slate-100 rounded-full h-2 overflow-hidden">
              <div id="detailsProgressFill" class="counter-progress-fill" style="width:0%" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
            </div>
            <div class="text-xs text-slate-400 mt-1">Minimum <span id="detailsMinLabel">50</span> ¬∑ Maximum <span id="detailsMaxLabel">150</span> words</div>
          </div>
          <p class="mt-2 text-xs text-slate-500">Avoid sharing sensitive information unless necessary for safeguarding.</p>
        </div>
        <div class="md:col-span-2">
          <label for="evidence" class="block text-sm font-medium text-slate-700">Attachment (optional)</label>
          <div id="evidenceDropzone" class="dropzone mt-1 relative">
            <input id="evidence" name="evidence" type="file" aria-describedby="evidence-help" accept=".jpg,.jpeg,.png,.pdf" class="dz-input" />
            <div class="dz-content p-3 flex items-center justify-between">
              <div class="dz-preview text-sm text-slate-600" id="dzLabel">Choose a file or drag &amp; drop here</div>
              <div class="flex items-center gap-2">
                <button type="button" id="dzChooseBtn" class="brand-outline">Choose</button>
                <button type="button" id="dzClearBtn" class="text-sm text-slate-500 hidden">Remove</button>
              </div>
            </div>
            <div class="progress-wrap hidden" id="dzProgress" aria-hidden="true">
              <div class="progress-bar" id="dzProgressBar" style="width:0%" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
            </div>
          </div>
          <p id="evidence-help" class="mt-1 text-xs text-slate-500">Accepted: JPG/PNG/PDF up to 5MB.</p>
        </div>
        <div class="md:col-span-2">
          <label class="inline-flex items-center gap-2">
            <input id="confirmCopy" name="confirmCopy" type="checkbox" class="rounded" />
            <span class="text-sm text-slate-700">Email me a confirmation copy</span>
          </label>
        </div>
        <div class="md:col-span-2">
          <fieldset>
            <legend class="text-sm font-medium text-slate-700">Preferred contact method</legend>
            <div class="mt-2 flex flex-wrap gap-4" aria-describedby="preferred-help">
              <label class="inline-flex items-center gap-2"><input type="radio" name="preferred" value="email" class="rounded" checked><span class="text-sm">Email</span></label>
              <label class="inline-flex items-center gap-2"><input type="radio" name="preferred" value="phone" class="rounded"><span class="text-sm">Phone</span></label>
              <label class="inline-flex items-center gap-2"><input type="radio" name="preferred" value="either" class="rounded"><span class="text-sm">Either</span></label>
            </div>
            <p id="preferred-help" class="mt-1 text-xs text-slate-500">We‚Äôll use your preferred method for follow-up.</p>
          </fieldset>
        </div>
      </div>
      
      <!-- Anonymous Reporter Toggle -->
      <div class="mt-6 p-4 rounded-lg border" id="anonymousSection" style="background:linear-gradient(135deg, rgba(139,92,246,0.05) 0%, rgba(255,255,255,0.9) 100%); border-color:rgba(139,92,246,0.2)">
        <label class="inline-flex items-center gap-3 cursor-pointer">
          <input id="anonymousToggle" name="anonymous" type="checkbox" class="w-5 h-5 rounded" />
          <div class="flex items-center gap-2">
            <svg id="shieldIcon" class="w-5 h-5 text-slate-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
            </svg>
            <span class="font-semibold text-slate-900">Report anonymously</span>
          </div>
        </label>
        <div id="anonymousExplainer" class="mt-2 text-sm text-slate-600 pl-8 hidden">
          <p class="font-medium text-slate-700">‚úì When enabled:</p>
          <ul class="mt-1 space-y-1 text-xs">
            <li>‚Ä¢ Your name and contact details are <strong>not</strong> shared with external parties</li>
            <li>‚Ä¢ We store only the report content and reference number</li>
            <li>‚Ä¢ You can still receive updates via a secure anonymous link</li>
          </ul>
          <p class="mt-2 font-medium text-slate-700">Note:</p>
          <p class="text-xs">We may not be able to follow up if more information is needed.</p>
        </div>
      </div>
      
      <div class="mt-6 flex items-center gap-3">
        <button id="submitBtn" type="submit" class="brand-btn px-4 py-2 rounded-lg">Submit Report</button>
        <div id="formMessage" role="alert" aria-live="assertive" class="text-sm text-slate-700"></div>
      </div>
    </form>

    <section class="mt-10">
      <h2 class="text-lg font-semibold">Other ways to contact us</h2>
      <ul class="mt-3 grid gap-3 sm:grid-cols-2">
        <li class="card-inner"><strong>Email</strong><div class="mt-1"><a href="mailto:safeguard@example.org" class="brand-text">safeguard@example.org</a></div></li>
        <li class="card-inner"><strong>Phone (UK)</strong><div class="mt-1"><a href="tel:+440000000000" class="brand-text" aria-label="Call +44 0000 000000"><img src="assets/images/phoneicon.jpeg" class="phone-icon" alt="" aria-hidden="true"/><span class="phone-num">+44 0000 000000</span></a></div></li>
      </ul>
    </section>

  </main>

  <!-- Toast for friendly messages -->
  <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>

  <div id="thankYouModal" class="hidden fixed inset-0 z-50 items-center justify-center" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="fixed inset-0 bg-black/40" data-modal-overlay></div>
    <div class="bg-white rounded-xl p-7 max-w-lg mx-4 z-10 shadow-lg">
      <div class="flex items-center gap-3">
        <div class="brand-bg text-white w-9 h-9 rounded-full flex items-center justify-center" aria-hidden="true">‚úì</div>
        <h3 id="modal-title" class="text-xl font-semibold brand-text">Report submitted</h3>
      </div>
      <p class="mt-3 text-slate-700">Thank you. Your report has been received and is being processed by our safeguarding team.</p>
      
      <!-- Reference Number -->
      <div class="mt-4 p-3 rounded-lg" style="background:linear-gradient(135deg, rgba(139,92,246,0.08) 0%, rgba(255,255,255,0.9) 100%); border:1px solid rgba(139,92,246,0.2)">
        <p class="text-xs font-semibold text-slate-600 uppercase tracking-wide">Reference Number</p>
        <p id="referenceNumber" class="text-lg font-bold text-brand mt-1" style="font-family:'Poppins',system-ui; letter-spacing:0.05em">SG-2024-XXXXX</p>
        <p class="text-xs text-slate-500 mt-1">Save this for your records</p>
      </div>
      
      <!-- What Happens Next Timeline -->
      <div class="mt-5">
        <h4 class="text-sm font-semibold text-slate-900 mb-3">What happens next</h4>
        <div class="space-y-3">
          <!-- Step 1 -->
          <div class="flex gap-3 items-start timeline-step timeline-active">
            <div class="flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold" style="background:linear-gradient(135deg, #10b981 0%, #059669 100%)">
              ‚úì
            </div>
            <div class="flex-1 pb-3 border-l-2 border-slate-200 pl-4 ml-3">
              <p class="text-sm font-semibold text-slate-900">Report received</p>
              <p class="text-xs text-slate-500 mt-0.5">Now</p>
            </div>
          </div>
          <!-- Step 2 -->
          <div class="flex gap-3 items-start timeline-step">
            <div class="flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-slate-600 text-xs" style="background:#e2e8f0">
              ‚è±
            </div>
            <div class="flex-1 pb-3 border-l-2 border-slate-200 pl-4 ml-3">
              <p class="text-sm font-semibold text-slate-900">Review begins</p>
              <p class="text-xs text-slate-500 mt-0.5">Within 1-2 hours</p>
            </div>
          </div>
          <!-- Step 3 -->
          <div class="flex gap-3 items-start timeline-step">
            <div class="flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-slate-600 text-xs" style="background:#e2e8f0">
              üìû
            </div>
            <div class="flex-1 pl-4 ml-3">
              <p class="text-sm font-semibold text-slate-900">We'll contact you</p>
              <p class="text-xs text-slate-500 mt-0.5">Within 24-48 hours</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="mt-5 p-3 bg-red-50 rounded-lg border border-red-200">
        <p class="text-sm text-red-900 font-medium">‚ö†Ô∏è Immediate danger?</p>
        <p class="text-xs text-red-700 mt-1">If someone is at risk right now, call <strong class="font-bold">999</strong> immediately.</p>
      </div>
      
      <div class="mt-6 flex items-center justify-between">
        <a href="index.html#home" id="returnHome" class="text-sm text-slate-600 hover:text-brand" aria-label="Return to home">‚Üê Return home</a>
        <button id="closeModal" class="brand-btn px-4 py-2 rounded-lg">Close</button>
      </div>
    </div>
  </div>

  <script src="assets/script.js" defer></script>
</body>
</html>
